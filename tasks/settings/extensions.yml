- name: "Set allow-user-extension-install to '{{ boolean_value }}'"
  ansible.builtin.include_tasks: func/edit_bool_policy.yml
  vars:
    policy_name: "BlockExternalExtensions"
    boolean_value: "{{ not allow_user_ext_install }}"
    locked: true

- name: "Set extension-install-blocklist to '{{ descrip_value }}'"
  ansible.builtin.include_tasks: func/edit_array_policy.yml
  vars:
    policy_name: "ExtensionInstallBlocklist"
    array_element_list: [] if allow_user_ext_install else [ ' "*"' ]
    descrip_value: "{{ 'ALL' if allow_user_ext_install else 'NONE' }}"
    locked: true

